 its private IP into an S3 object. Clients read the object to get the current cluster list.

Pros: Free-ish (tiny S3 costs), very simple.

Cons: Eventually consistent, potential race conditions; needs locking for high churn.

DynamoDB registry: Each node writes itself into a DynamoDB table with heartbeat TTLs. Clients read the table.

Pros: Works across AZs and VPCs, highly available.

Cons: Slightly more operational complexity.

âœ… Recommended Approach for AWS + Terraform
For a free, simple, and AWS-native solution, I suggest:

Use EC2 tags + AWS SDK discovery

Terraform tags your storage nodes with Role=StorageNode.

Clients call DescribeInstances(Filters=[{"Name":"tag:Role","Values":["StorageNode"]}]).

Optional: filter only running nodes, by private IP, in your VPC.

No extra services required, fully dynamic.

Optional enhancement: Use a lightweight S3 or DynamoDB registry if you want decoupling from AWS EC2 API or need cross-region discovery.

This approach is:

Free.

Works with dynamic provisioning.

