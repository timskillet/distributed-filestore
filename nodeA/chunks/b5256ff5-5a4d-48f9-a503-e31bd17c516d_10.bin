     if now - item['HeartbeatTS'] <= 30:  # node is considered alive if heartbeat within 30s
            nodes.append({'ip': item['PrivateIP'], 'port': item['Port']})
    return nodes
Notes:

If you have a large number of nodes, use Global Secondary Index (GSI) on HeartbeatTS to efficiently query live nodes.

TTL in DynamoDB can automatically delete stale nodes, reducing scanning overhead.

4. Advantages of This Approach
Fully dynamic: nodes register themselves at runtime.

Free/low-cost: small DynamoDB tables cost just cents per month.

Works across AZs and VPCs.

No external tools required.

5. Optional Enhancements
Batch updates: If nodes have frequent heartbeats, batch them to reduce writes.

Metadata storage: Track capacity, version, or shard info.

Event-driven updates: Use DynamoDB Streams to notify API servers when nodes come/go.

This pattern is simple, robust, and production-ready.

If you want, I can draw a diagram showing the registration + discovery flow to make it visually clear how nodes and AP