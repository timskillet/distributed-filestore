
You said:
I am building a distributed filestore while deployed on AWS. The issue I have is that storage nodes cannot be discovered because terraform is provisioning them during runtime. What are the best practices for service discovery that can be implemented easily and for free?
ChatGPT said:
Ah, I see exactly the problem: you’re spinning up storage nodes dynamically via Terraform, and the other components of your system (clients, coordinators, or other nodes) need to find them—but their IPs/hostnames aren’t known in advance. Let’s break down the best practices and options, focusing on AWS-friendly, easy, and low-cost/free approaches.

1. Use AWS-native Service Discovery
AWS provides a few native mechanisms for service discovery that are reliable and low-cost:

a. AWS Cloud Map
What it is: A fully managed service registry that lets you register services (like your storage nodes) and query them via DNS or API.

How it works: Each node registers itself with Cloud Map when it comes online. Clients quer